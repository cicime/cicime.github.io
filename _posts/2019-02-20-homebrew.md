---
layout: post
title: "Homebrew, brew æ›´æ¢é•œåƒ, å‡çº§ ruby"
subtitle: "Package Manager for macOS"
author: "Toma"
header-style: text
tags:
  - ç¬”è®°
  - brew
  - ruby
  - mac
---

> å®‰è£…æ•™ç¨‹ [Homebrew å®˜ç½‘](https://brew.sh/index_zh-cn.html)


## æ›´æ¢é•œåƒ

è§£å†³ mac brew update å¡ç€ä¸åŠ¨çš„é—®é¢˜

```sh
# æŸ¥çœ‹ç°åœ¨é•œåƒæº
brew config

# æ›¿æ¢brew.git:
cd "$(brew --repo)"
git remote set-url origin https://mirrors.ustc.edu.cn/brew.git

# æ›¿æ¢homebrew-core.git:
cd "$(brew --repo)/Library/Taps/homebrew/homebrew-core"
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git

# æ›¿æ¢homebrew-cask.git:
cd "$(brew --repo)/Library/Taps/homebrew/homebrew-cask"
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git

# æŸ¥çœ‹ç°åœ¨é•œåƒæº
brew config

# åº”ç”¨ç”Ÿæ•ˆ
brew update

# æ›¿æ¢homebrew-bottles åœ¨~/.zshrcä¸­æ·»åŠ 
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles

```


å¦‚æœéœ€è¦æ¢å¤ä¹‹å‰çš„é•œåƒæº

```sh
git -C "$(brew --repo)" remote set-url origin https://github.com/Homebrew/brew.git

git -C "$(brew --repo homebrew/core)" remote set-url origin https://github.com/Homebrew/homebrew-core.git

git -C "$(brew --repo homebrew/cask)" remote set-url origin https://github.com/Homebrew/homebrew-cask.git

# æ‰¾åˆ° ~/.bash_profile æˆ–è€… ~/.zshrc ä¸­çš„HOMEBREW_BOTTLE_DOMAIN ä¸€è¡Œåˆ é™¤
brew update
```


## Macä¸‹å‡çº§rubyè‡³æœ€æ–°ç‰ˆæœ¬

Macè‡ªèº«çš„ruby ç‰ˆæœ¬ 2.xï¼Œé€šè¿‡ruby -vå¯ä»¥æŸ¥çœ‹ç‰ˆæœ¬å·ã€‚<br />
ä¸ºæ›´æ–°åˆ°rubyçš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤è§£å†³ï¼š

```sh
brew update
brew install ruby
```

æ‰§è¡Œå®Œå‘½ä»¤åï¼Œruby -våå…¶å®è¿˜æ˜¯åŸæ¥çš„ç‰ˆæœ¬ğŸ‘Œï¼Œ<br />
è¿™æ˜¯å› ä¸ºç¯å¢ƒå˜é‡æ²¡æœ‰é…ç½®ã€‚å› æ­¤ï¼Œè¿˜æœ‰ä¸€ä¸ªæ­¥éª¤å°±æ˜¯é…ç½®ç¯å¢ƒå˜é‡ã€‚

```sh
echo 'export PATH="/usr/local/opt/ruby/bin:$PATH"' >> ~/.bash_profile

# cat .bash_profile
# éœ€è¦æ‰¾åˆ° gems ç‰ˆæœ¬å¯¹åº”çš„å…·ä½“ä½ç½® å¦‚ä¸‹ï¼Œå†åŠ å…¥ç¯å¢ƒå˜é‡
# export PATH="/usr/local/lib/ruby/gems/3.0.0/bin:$PATH"

# åˆ·æ–°
source ~/.bash_profile
```

æ‰§è¡Œåï¼ŒæŸ¥çœ‹ç‰ˆæœ¬åï¼Œä¼šåˆ¤æ–­å·²æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚